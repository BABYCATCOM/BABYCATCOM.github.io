!function(t,s,i,a){var h,e,r=function(s,i){this.el=s,this.$el=t(s),this.options=i,that=this},n=!1,o=!1;!function(){for(var t=0,i=["ms","moz","webkit","o"],a=0;a<i.length&&!s.requestAnimationFrame;++a)s.requestAnimationFrame=s[i[a]+"RequestAnimationFrame"],s.cancelAnimationFrame=s[i[a]+"CancelAnimationFrame"]||s[i[a]+"CancelRequestAnimationFrame"];s.requestAnimationFrame||(s.requestAnimationFrame=function(i){var a=(new Date).getTime(),h=Math.max(0,16-(a-t)),e=s.setTimeout((function(){i(a+h)}),h);return t=a+h,e}),s.cancelAnimationFrame||(s.cancelAnimationFrame=function(t){clearTimeout(t)})}(),r.defaults=(r.prototype={defaults:{starColor:"rgba(255,255,255,1)",bgColor:"rgba(0,0,0,1)",mouseMove:!0,mouseColor:"rgba(0,0,0,0.2)",mouseSpeed:20,fps:15,speed:3,quantity:512,ratio:256,divclass:"starfield"},resizer:function(){var t=this.star,s=this.context.canvas.width,i=this.context.canvas.height;this.w=this.$el.width(),this.h=this.$el.height(),this.x=Math.round(this.w/2),this.y=Math.round(this.h/2),this.portrait=this.w<this.h;var a=this.w/s,h=this.h/i;this.context.canvas.width=this.w,this.context.canvas.height=this.h;for(var e=0;e<this.n;e++)this.star[e][0]=t[e][0]*a,this.star[e][1]=t[e][1]*h,this.star[e][3]=this.x+this.star[e][0]/this.star[e][2]*this.star_ratio,this.star[e][4]=this.y+this.star[e][1]/this.star[e][2]*this.star_ratio;that.context.fillStyle=that.settings.bgColor,this.context.strokeStyle=this.settings.starColor},init:function(){this.settings=t.extend({},this.defaults,this.options);var a=i.location.href;this.n=parseInt(-1!=a.indexOf("n=")?a.substring(a.indexOf("n=")+2,-1!=a.substring(a.indexOf("n=")+2,a.length).indexOf("&")?a.indexOf("n=")+2+a.substring(a.indexOf("n=")+2,a.length).indexOf("&"):a.length):this.settings.quantity),this.flag=!0,this.test=!0,this.w=0,this.h=0,this.x=0,this.y=0,this.z=0,this.star_color_ratio=0,this.star_x_save=0,this.star_y_save=0,this.star_ratio=this.settings.ratio,this.star_speed=this.settings.speed,this.star_speed_save=0,this.star=new Array(this.n),this.color=this.settings.starColor,this.opacity=.1,this.cursor_x=0,this.cursor_y=0,this.mouse_x=0,this.mouse_y=0,this.canvas_x=0,this.canvas_y=0,this.canvas_w=0,this.canvas_h=0,this.fps=this.settings.fps,this.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|IEMobile)/),this.orientationSupport=undefined!==s.DeviceOrientationEvent,this.portrait=null;that.w=that.$el.width(),that.h=that.$el.height(),that.initW=that.w,that.initH=that.h,that.portrait=that.w<that.h,that.wrapper=t("<canvas />").addClass(that.settings.divclass),that.wrapper.appendTo(that.el),that.starz=t("canvas",that.el),that.starz[0].getContext&&(that.context=that.starz[0].getContext("2d"),o=!0),that.context.canvas.width=that.w,that.context.canvas.height=that.h;(function(){if(o){that.x=Math.round(that.w/2),that.y=Math.round(that.h/2),that.z=(that.w+that.h)/2,that.star_color_ratio=1/that.z,that.cursor_x=that.x,that.cursor_y=that.y;for(var t=0;t<that.n;t++)that.star[t]=new Array(5),that.star[t][0]=2*Math.random()*that.w-2*that.x,that.star[t][1]=2*Math.random()*that.h-2*that.y,that.star[t][2]=Math.round(Math.random()*that.z),that.star[t][3]=0,that.star[t][4]=0;that.context.fillStyle=that.settings.bgColor,that.context.strokeStyle=that.settings.starColor}})(),n=!0},anim:function(){this.mouse_x=this.cursor_x-this.x,this.mouse_y=this.cursor_y-this.y,this.context.fillRect(0,0,this.w,this.h);for(var t=0;t<this.n;t++)this.test=!0,this.star_x_save=this.star[t][3],this.star_y_save=this.star[t][4],this.star[t][0]+=this.mouse_x>>4,this.star[t][0]>this.x<<1&&(this.star[t][0]-=this.w<<1,this.test=!1),this.star[t][0]<-this.x<<1&&(this.star[t][0]+=this.w<<1,this.test=!1),this.star[t][1]+=this.mouse_y>>4,this.star[t][1]>this.y<<1&&(this.star[t][1]-=this.h<<1,this.test=!1),this.star[t][1]<-this.y<<1&&(this.star[t][1]+=this.h<<1,this.test=!1),this.star[t][2]-=this.star_speed,this.star[t][2]>this.z&&(this.star[t][2]-=this.z,this.test=!1),this.star[t][2]<0&&(this.star[t][2]+=this.z,this.test=!1),this.star[t][3]=this.x+this.star[t][0]/this.star[t][2]*this.star_ratio,this.star[t][4]=this.y+this.star[t][1]/this.star[t][2]*this.star_ratio,this.star_x_save>0&&this.star_x_save<this.w&&this.star_y_save>0&&this.star_y_save<this.h&&this.test&&(this.context.lineWidth=2*(1-this.star_color_ratio*this.star[t][2]),this.context.beginPath(),this.context.moveTo(this.star_x_save,this.star_y_save),this.context.lineTo(this.star[t][3],this.star[t][4]),this.context.stroke(),this.context.closePath())},loop:function(){this.anim(),e=s.requestAnimationFrame((function(){that.loop()}))},move:function(){var t=i.documentElement;this.orientationSupport&&!this.desktop?s.addEventListener("deviceorientation",(function(t){if(null!==t.beta&&null!==t.gamma){var s=t.gamma,i=t.beta;that.portrait||(s=-1*t.beta,i=t.gamma),that.cursor_x=that.w/2+5*s,that.cursor_y=that.h/2+5*i}}),!1):s.addEventListener("mousemove",(function(s){that.cursor_x=s.pageX||s.clientX+t.scrollLeft-t.clientLeft,that.cursor_y=s.pageY||s.clientY+t.scrollTop-t.clientTop}),!1)},stop:function(){s.cancelAnimationFrame(e),h=!1},start:function(){return n||(n=!0,this.init()),h||(h=!0,this.loop()),s.addEventListener("resize",(function(){that.resizer()}),!1),s.addEventListener("orientationchange",(function(){that.resizer()}),!1),this.settings.mouseMove&&this.move(),this}}).defaults,t.fn.starfield=function(t){return this.each((function(){new r(this,t).start()}))},s.Starfield=r}(jQuery,window,document);